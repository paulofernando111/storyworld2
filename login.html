<!-- login.html -->
<!DOCTYPE html><html lang="pt-BR"><head><meta charset="utf-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>Login | StoryWorld</title><link rel="stylesheet" href="style.css"></head><body>
<div class="container">
  <nav class="navbar"><a class="logo" href="index.html">StoryWorld</a><div id="nav-account"></div></nav>

  <main style="max-width:420px;margin:40px auto">
    <div class="card">
      <h2>Entrar</h2>
      <form id="loginForm">
        <label>Email</label><input id="email" type="email" class="input" required>
        <label>Senha</label><input id="password" type="password" class="input" required>
        <div style="margin-top:12px;display:flex;gap:8px">
          <button class="button" type="submit">Entrar</button>
          <a href="register.html" class="muted" style="align-self:center">Criar conta</a>
        </div>
      </form>
    </div>
  </main>
</div>

<script src="auth.js"></script>
<script>
document.getElementById('loginForm').addEventListener('submit', function(e){
  e.preventDefault();
  const email = document.getElementById('email').value.trim().toLowerCase();
  const password = document.getElementById('password').value;

  const users = JSON.parse(localStorage.getItem('sw_users')||'[]');
  const found = users.find(u => u.email === email && u.password === password);
  if(!found){ alert('Email ou senha inv√°lidos'); return; }
  localStorage.setItem('sw_user', JSON.stringify(found));
  alert('Bem-vindo de volta!');
  window.location.href = 'catalog.html';
});
</script>
</body></html>
